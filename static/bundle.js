var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function o(e){e.forEach(t)}function r(e){return"function"==typeof e}function l(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function s(e,t){e.appendChild(t)}function c(e,t,n){e.insertBefore(t,n||null)}function u(e){e.parentNode.removeChild(e)}function a(e){return document.createElement(e)}function i(e){return document.createTextNode(e)}function d(){return i(" ")}function f(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function p(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function h(e,t){e.value=null==t?"":t}function m(e,t,n,o){e.style.setProperty(t,n,o?"important":"")}function g(e,t){for(let n=0;n<e.options.length;n+=1){const o=e.options[n];if(o.__value===t)return void(o.selected=!0)}}let $;function v(e){$=e}const _=[],b=[],x=[],w=[],y=Promise.resolve();let k=!1;function S(e){x.push(e)}function U(e){w.push(e)}let A=!1;const C=new Set;function T(){if(!A){A=!0;do{for(let e=0;e<_.length;e+=1){const t=_[e];v(t),q(t.$$)}for(_.length=0;b.length;)b.pop()();for(let e=0;e<x.length;e+=1){const t=x[e];C.has(t)||(C.add(t),t())}x.length=0}while(_.length);for(;w.length;)w.pop()();k=!1,A=!1,C.clear()}}function q(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(S)}}const E=new Set;let O;function j(e,t){e&&e.i&&(E.delete(e),e.i(t))}function D(e,t,n,o){if(e&&e.o){if(E.has(e))return;E.add(e),O.c.push(()=>{E.delete(e),o&&(n&&e.d(1),o())}),e.o(t)}}function R(e,t,n){const o=e.$$.props[t];void 0!==o&&(e.$$.bound[o]=n,n(e.$$.ctx[o]))}function L(e){e&&e.c()}function F(e,n,l){const{fragment:s,on_mount:c,on_destroy:u,after_update:a}=e.$$;s&&s.m(n,l),S(()=>{const n=c.map(t).filter(r);u?u.push(...n):o(n),e.$$.on_mount=[]}),a.forEach(S)}function I(e,t){const n=e.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function N(e,t){-1===e.$$.dirty[0]&&(_.push(e),k||(k=!0,y.then(T)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function P(t,r,l,s,c,a,i=[-1]){const d=$;v(t);const f=r.props||{},p=t.$$={fragment:null,ctx:null,props:a,update:e,not_equal:c,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:[]),callbacks:n(),dirty:i,skip_bound:!1};let h=!1;if(p.ctx=l?l(t,f,(e,n,...o)=>{const r=o.length?o[0]:n;return p.ctx&&c(p.ctx[e],p.ctx[e]=r)&&(!p.skip_bound&&p.bound[e]&&p.bound[e](r),h&&N(t,e)),n}):[],p.update(),h=!0,o(p.before_update),p.fragment=!!s&&s(p.ctx),r.target){if(r.hydrate){const e=function(e){return Array.from(e.childNodes)}(r.target);p.fragment&&p.fragment.l(e),e.forEach(u)}else p.fragment&&p.fragment.c();r.intro&&j(t.$$.fragment),F(t,r.target,r.anchor),T()}v(d)}class B{$destroy(){I(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function M(t){let n,r,l,i,h,m,g,$,v,_,b,x,w,y,k,S,U,A,C,T,q,E,O,j,D,R,L,F,I,N,P,B,M,G,V,z,W;return{c(){n=a("div"),r=a("input"),h=d(),m=a("label"),$=d(),v=a("input"),x=d(),w=a("label"),k=d(),S=a("input"),C=d(),T=a("label"),E=d(),O=a("input"),R=d(),L=a("label"),I=d(),N=a("input"),M=d(),G=a("label"),p(r,"type","radio"),p(r,"name",l="colour-"+t[1]),p(r,"id",i="white-"+t[1]),r.__value="white",r.value=r.__value,p(r,"class","svelte-12bu507"),t[3][0].push(r),p(m,"for",g="white-"+t[1]),p(m,"class","svelte-12bu507"),p(v,"type","radio"),p(v,"name",_="colour-"+t[1]),p(v,"id",b="purple-"+t[1]),v.__value="purple",v.value=v.__value,p(v,"class","svelte-12bu507"),t[3][0].push(v),p(w,"for",y="purple-"+t[1]),p(w,"class","svelte-12bu507"),p(S,"type","radio"),p(S,"name",U="colour-"+t[1]),p(S,"id",A="orange-"+t[1]),S.__value="orange",S.value=S.__value,p(S,"class","svelte-12bu507"),t[3][0].push(S),p(T,"for",q="orange-"+t[1]),p(T,"class","svelte-12bu507"),p(O,"type","radio"),p(O,"name",j="colour-"+t[1]),p(O,"id",D="lime-"+t[1]),O.__value="lime",O.value=O.__value,p(O,"class","svelte-12bu507"),t[3][0].push(O),p(L,"for",F="lime-"+t[1]),p(L,"class","svelte-12bu507"),p(N,"type","radio"),p(N,"name",P="colour-"+t[1]),p(N,"id",B="blue-"+t[1]),N.__value="blue",N.value=N.__value,p(N,"class","svelte-12bu507"),t[3][0].push(N),p(G,"for",V="blue-"+t[1]),p(G,"class","svelte-12bu507"),p(n,"class","svelte-12bu507")},m(e,o){c(e,n,o),s(n,r),r.checked=r.__value===t[0],s(n,h),s(n,m),s(n,$),s(n,v),v.checked=v.__value===t[0],s(n,x),s(n,w),s(n,k),s(n,S),S.checked=S.__value===t[0],s(n,C),s(n,T),s(n,E),s(n,O),O.checked=O.__value===t[0],s(n,R),s(n,L),s(n,I),s(n,N),N.checked=N.__value===t[0],s(n,M),s(n,G),z||(W=[f(r,"change",t[2]),f(v,"change",t[4]),f(S,"change",t[5]),f(O,"change",t[6]),f(N,"change",t[7])],z=!0)},p(e,[t]){2&t&&l!==(l="colour-"+e[1])&&p(r,"name",l),2&t&&i!==(i="white-"+e[1])&&p(r,"id",i),1&t&&(r.checked=r.__value===e[0]),2&t&&g!==(g="white-"+e[1])&&p(m,"for",g),2&t&&_!==(_="colour-"+e[1])&&p(v,"name",_),2&t&&b!==(b="purple-"+e[1])&&p(v,"id",b),1&t&&(v.checked=v.__value===e[0]),2&t&&y!==(y="purple-"+e[1])&&p(w,"for",y),2&t&&U!==(U="colour-"+e[1])&&p(S,"name",U),2&t&&A!==(A="orange-"+e[1])&&p(S,"id",A),1&t&&(S.checked=S.__value===e[0]),2&t&&q!==(q="orange-"+e[1])&&p(T,"for",q),2&t&&j!==(j="colour-"+e[1])&&p(O,"name",j),2&t&&D!==(D="lime-"+e[1])&&p(O,"id",D),1&t&&(O.checked=O.__value===e[0]),2&t&&F!==(F="lime-"+e[1])&&p(L,"for",F),2&t&&P!==(P="colour-"+e[1])&&p(N,"name",P),2&t&&B!==(B="blue-"+e[1])&&p(N,"id",B),1&t&&(N.checked=N.__value===e[0]),2&t&&V!==(V="blue-"+e[1])&&p(G,"for",V)},i:e,o:e,d(e){e&&u(n),t[3][0].splice(t[3][0].indexOf(r),1),t[3][0].splice(t[3][0].indexOf(v),1),t[3][0].splice(t[3][0].indexOf(S),1),t[3][0].splice(t[3][0].indexOf(O),1),t[3][0].splice(t[3][0].indexOf(N),1),z=!1,o(W)}}}function G(e,t,n){let{colour:o}=t,{idx:r}=t;return e.$$set=e=>{"colour"in e&&n(0,o=e.colour),"idx"in e&&n(1,r=e.idx)},[o,r,function(){o=this.__value,n(0,o)},[[]],function(){o=this.__value,n(0,o)},function(){o=this.__value,n(0,o)},function(){o=this.__value,n(0,o)},function(){o=this.__value,n(0,o)}]}class V extends B{constructor(e){super(),P(this,e,G,M,l,{colour:0,idx:1})}}function z(e){let t;return{c(){t=i("The URL or sheet ID provided is invalid.")},m(e,n){c(e,t,n)},d(e){e&&u(t)}}}function W(e){let t;return{c(){t=i("This sheet couldn't be accessed. Are you sure that is correct?")},m(e,n){c(e,t,n)},d(e){e&&u(t)}}}function H(e){let t;return{c(){t=i("Please choose a unique colour for each data source.")},m(e,n){c(e,t,n)},d(e){e&&u(t)}}}function J(e){let t,n,r,l,i,m,g,$,v,_,x,w,y,k,S,A,C,T,q,E,O,N,P,B,M=e[4].urlFormat&&z(),G=e[4].network&&W();function J(t){e[7].call(null,t)}let K={idx:e[3]};void 0!==e[2]&&(K.colour=e[2]),A=new V({props:K}),b.push(()=>R(A,"colour",J));let Q=e[4].colourUsed&&H();return{c(){t=a("label"),t.textContent="Sheet URL or ID (required)",n=d(),r=a("input"),l=d(),i=a("p"),M&&M.c(),m=d(),G&&G.c(),g=d(),$=a("label"),$.textContent="Sheet Range (optional)",v=d(),_=a("input"),x=d(),w=a("p"),y=d(),k=a("p"),k.textContent="Display Colour",S=d(),L(A.$$.fragment),T=d(),q=a("p"),Q&&Q.c(),E=d(),O=a("hr"),p(t,"class","label"),p(t,"for","sheetUrl"),p(r,"name","sheetUrl"),p(r,"type","text"),p(r,"placeholder","e.g. https://docs.google.com/spreadsheets/d/..."),p(r,"class","svelte-1390cq2"),p(i,"class","error"),p(i,"data-for","sheetUrl"),p($,"class","label"),p($,"for","range"),p(_,"name","range"),p(_,"type","text"),p(_,"placeholder","e.g. A2:B"),p(_,"class","svelte-1390cq2"),p(w,"class","error"),p(w,"data-for","range"),p(k,"class","label"),p(k,"for","colour"),p(q,"class","error"),p(q,"data-for","colour"),p(O,"class","margin-bottom-1 svelte-1390cq2")},m(o,u){c(o,t,u),c(o,n,u),c(o,r,u),h(r,e[0]),c(o,l,u),c(o,i,u),M&&M.m(i,null),s(i,m),G&&G.m(i,null),c(o,g,u),c(o,$,u),c(o,v,u),c(o,_,u),h(_,e[1]),c(o,x,u),c(o,w,u),c(o,y,u),c(o,k,u),c(o,S,u),F(A,o,u),c(o,T,u),c(o,q,u),Q&&Q.m(q,null),c(o,E,u),c(o,O,u),N=!0,P||(B=[f(r,"input",e[5]),f(_,"input",e[6])],P=!0)},p(e,[t]){1&t&&r.value!==e[0]&&h(r,e[0]),e[4].urlFormat?M||(M=z(),M.c(),M.m(i,m)):M&&(M.d(1),M=null),e[4].network?G||(G=W(),G.c(),G.m(i,null)):G&&(G.d(1),G=null),2&t&&_.value!==e[1]&&h(_,e[1]);const n={};8&t&&(n.idx=e[3]),!C&&4&t&&(C=!0,n.colour=e[2],U(()=>C=!1)),A.$set(n),e[4].colourUsed?Q||(Q=H(),Q.c(),Q.m(q,null)):Q&&(Q.d(1),Q=null)},i(e){N||(j(A.$$.fragment,e),N=!0)},o(e){D(A.$$.fragment,e),N=!1},d(e){e&&u(t),e&&u(n),e&&u(r),e&&u(l),e&&u(i),M&&M.d(),G&&G.d(),e&&u(g),e&&u($),e&&u(v),e&&u(_),e&&u(x),e&&u(w),e&&u(y),e&&u(k),e&&u(S),I(A,e),e&&u(T),e&&u(q),Q&&Q.d(),e&&u(E),e&&u(O),P=!1,o(B)}}}function K(e,t,n){let{sheetUrl:o=""}=t,{range:r=""}=t,{colour:l=""}=t,{idx:s=0}=t,{errors:c}=t;return e.$$set=e=>{"sheetUrl"in e&&n(0,o=e.sheetUrl),"range"in e&&n(1,r=e.range),"colour"in e&&n(2,l=e.colour),"idx"in e&&n(3,s=e.idx),"errors"in e&&n(4,c=e.errors)},[o,r,l,s,c,function(){o=this.value,n(0,o)},function(){r=this.value,n(1,r)},function(e){l=e,n(2,l)}]}class Q extends B{constructor(e){super(),P(this,e,K,J,l,{sheetUrl:0,range:1,colour:2,idx:3,errors:4})}}function X(t){let n,o,r,l,i,h,m,$,v,_,b;return{c(){n=a("label"),n.textContent="Data Type",o=d(),r=a("select"),l=a("option"),l.textContent="Static-kind Data",h=a("option"),h.textContent="Satellite-kind Data",$=d(),v=a("p"),p(n,"class","label"),p(n,"for","dataType"),l.__value=i=!0,l.value=l.__value,h.__value=m=!1,h.value=h.__value,p(r,"name","dataType"),p(r,"id","dataType"),p(r,"class","svelte-1oeszcr"),void 0===t[0]&&S(()=>t[1].call(r)),p(v,"class","error"),p(v,"data-for","dataType")},m(e,u){c(e,n,u),c(e,o,u),c(e,r,u),s(r,l),s(r,h),g(r,t[0]),c(e,$,u),c(e,v,u),_||(b=f(r,"change",t[1]),_=!0)},p(e,[t]){1&t&&g(r,e[0])},i:e,o:e,d(e){e&&u(n),e&&u(o),e&&u(r),e&&u($),e&&u(v),_=!1,b()}}}function Y(e,t,n){let{isStatic:o}=t;return e.$$set=e=>{"isStatic"in e&&n(0,o=e.isStatic)},[o,function(){o=function(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}(this),n(0,o)}]}class Z extends B{constructor(e){super(),P(this,e,Y,X,l,{isStatic:0})}}function ee(e){let t;return{c(){t=a("span"),t.textContent="Start VR",p(t,"class","text svelte-galr6h")},m(e,n){c(e,t,n)},d(e){e&&u(t)}}}function te(e){let t;return{c(){t=a("span"),t.textContent="Loading",p(t,"class","text dots svelte-galr6h")},m(e,n){c(e,t,n)},d(e){e&&u(t)}}}function ne(e){let t;return{c(){t=a("span"),t.textContent="Downloading data from Google Sheets",p(t,"class","text dots svelte-galr6h")},m(e,n){c(e,t,n)},d(e){e&&u(t)}}}function oe(t){let n,o,r,l,i,h;function g(e,t){return e[1]?ne:e[0]<1?te:1==e[0]?ee:void 0}let $=g(t),v=$&&$(t);return{c(){n=a("button"),o=a("span"),r=d(),v&&v.c(),p(o,"class","progress svelte-galr6h"),m(o,"width",100*t[0]+"%"),n.disabled=l=t[0]<1||t[1],p(n,"class","svelte-galr6h")},m(e,l){c(e,n,l),s(n,o),s(n,r),v&&v.m(n,null),i||(h=f(n,"click",t[2]),i=!0)},p(e,[t]){1&t&&m(o,"width",100*e[0]+"%"),$!==($=g(e))&&(v&&v.d(1),v=$&&$(e),v&&(v.c(),v.m(n,null))),3&t&&l!==(l=e[0]<1||e[1])&&(n.disabled=l)},i:e,o:e,d(e){e&&u(n),v&&v.d(),i=!1,h()}}}function re(e,t,n){let{progress:o}=t,r=!1;return document.addEventListener("WorldSetupAborted",()=>n(1,r=!1)),e.$$set=e=>{"progress"in e&&n(0,o=e.progress)},[o,r,function(){n(1,r=!0),console.log("StartVR clicked"),console.table(window.menu),gameInstance.SendMessage("GameMaster","TryFetch")}]}class le extends B{constructor(e){super(),P(this,e,re,oe,l,{progress:0})}}function se(t){let n,r,l,m,g,$,v,_,b;return{c(){n=a("label"),r=i("Render items: "),l=i(t[0]),m=d(),g=a("input"),p(n,"class","label"),p(n,"for","renderAmount"),p(g,"type","range"),p(g,"min",$=1),p(g,"max",v=3e3),p(g,"id","renderAmount"),p(g,"class","svelte-ejfcqk")},m(e,o){c(e,n,o),s(n,r),s(n,l),c(e,m,o),c(e,g,o),h(g,t[0]),_||(b=[f(g,"change",t[1]),f(g,"input",t[1])],_=!0)},p(e,[t]){1&t&&function(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}(l,e[0]),1&t&&h(g,e[0])},i:e,o:e,d(e){e&&u(n),e&&u(m),e&&u(g),_=!1,o(b)}}}function ce(e,t,n){let{renderAmount:o}=t;return e.$$set=e=>{"renderAmount"in e&&n(0,o=e.renderAmount)},[o,function(){var e;e=this.value,o=""===e?void 0:+e,n(0,o)}]}class ue extends B{constructor(e){super(),P(this,e,ce,se,l,{renderAmount:0})}}function ae(e,t,n){const o=e.slice();return o[12]=t[n],o[13]=t,o[14]=n,o}function ie(e){let t,n,o,r,l;function s(t){e[7].call(null,t,e[12])}function c(t){e[8].call(null,t,e[12])}function u(t){e[9].call(null,t,e[12])}let a={errors:e[1][e[14]],idx:e[14]};return void 0!==e[12].sheetUrl&&(a.sheetUrl=e[12].sheetUrl),void 0!==e[12].range&&(a.range=e[12].range),void 0!==e[12].colour&&(a.colour=e[12].colour),t=new Q({props:a}),b.push(()=>R(t,"sheetUrl",s)),b.push(()=>R(t,"range",c)),b.push(()=>R(t,"colour",u)),{c(){L(t.$$.fragment)},m(e,n){F(t,e,n),l=!0},p(l,s){e=l;const c={};2&s&&(c.errors=e[1][e[14]]),!n&&1&s&&(n=!0,c.sheetUrl=e[12].sheetUrl,U(()=>n=!1)),!o&&1&s&&(o=!0,c.range=e[12].range,U(()=>o=!1)),!r&&1&s&&(r=!0,c.colour=e[12].colour,U(()=>r=!1)),t.$set(c)},i(e){l||(j(t.$$.fragment,e),l=!0)},o(e){D(t.$$.fragment,e),l=!1},d(e){I(t,e)}}}function de(e){let t,n,r,l,h,m,g,$,v,_,x,w,y,k,S,A,C,T,q,E,N,P,B=e[0],M=[];for(let t=0;t<B.length;t+=1)M[t]=ie(ae(e,B,t));const G=e=>D(M[e],1,1,()=>{M[e]=null});function V(t){e[10].call(null,t)}let z={};function W(t){e[11].call(null,t)}void 0!==e[3]&&(z.isStatic=e[3]),y=new Z({props:z}),b.push(()=>R(y,"isStatic",V));let H={};return void 0!==e[2]&&(H.renderAmount=e[2]),A=new ue({props:H}),b.push(()=>R(A,"renderAmount",W)),q=new le({props:{progress:e[4]}}),{c(){t=a("h2"),t.textContent="Choose a data source",n=d();for(let e=0;e<M.length;e+=1)M[e].c();r=d(),l=a("div"),h=a("button"),m=i("Add a data source."),$=d(),v=a("button"),_=i("Remove a data source."),w=d(),L(y.$$.fragment),S=d(),L(A.$$.fragment),T=d(),L(q.$$.fragment),p(t,"class","svelte-j1k9s4"),h.disabled=g=e[0].length>=fe,p(h,"class","svelte-j1k9s4"),v.disabled=x=e[0].length<=1,p(v,"class","svelte-j1k9s4"),p(l,"class","flex-row margin-bottom-1")},m(o,u){c(o,t,u),c(o,n,u);for(let e=0;e<M.length;e+=1)M[e].m(o,u);c(o,r,u),c(o,l,u),s(l,h),s(h,m),s(l,$),s(l,v),s(v,_),c(o,w,u),F(y,o,u),c(o,S,u),F(A,o,u),c(o,T,u),F(q,o,u),E=!0,N||(P=[f(h,"click",e[5]),f(v,"click",e[6])],N=!0)},p(e,[t]){if(3&t){let n;for(B=e[0],n=0;n<B.length;n+=1){const o=ae(e,B,n);M[n]?(M[n].p(o,t),j(M[n],1)):(M[n]=ie(o),M[n].c(),j(M[n],1),M[n].m(r.parentNode,r))}for(O={r:0,c:[],p:O},n=B.length;n<M.length;n+=1)G(n);O.r||o(O.c),O=O.p}(!E||1&t&&g!==(g=e[0].length>=fe))&&(h.disabled=g),(!E||1&t&&x!==(x=e[0].length<=1))&&(v.disabled=x);const n={};!k&&8&t&&(k=!0,n.isStatic=e[3],U(()=>k=!1)),y.$set(n);const l={};!C&&4&t&&(C=!0,l.renderAmount=e[2],U(()=>C=!1)),A.$set(l);const s={};16&t&&(s.progress=e[4]),q.$set(s)},i(e){if(!E){for(let e=0;e<B.length;e+=1)j(M[e]);j(y.$$.fragment,e),j(A.$$.fragment,e),j(q.$$.fragment,e),E=!0}},o(e){M=M.filter(Boolean);for(let e=0;e<M.length;e+=1)D(M[e]);D(y.$$.fragment,e),D(A.$$.fragment,e),D(q.$$.fragment,e),E=!1},d(e){e&&u(t),e&&u(n),function(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}(M,e),e&&u(r),e&&u(l),e&&u(w),I(y,e),e&&u(S),I(A,e),e&&u(T),I(q,e),N=!1,o(P)}}}const fe=3;function pe(e,t,n){let o=[{sheetUrl:"",range:"",colour:"white"}],r=[{colourUsed:!1,urlFormat:!1,network:!1}],l=3e3,s=!0,c=0;return window.onErrorsSet=()=>{n(1,r=window.errors)},window.gameInstance.onProgress=(e,t)=>{n(4,c=t)},e.$$.update=()=>{1&e.$$.dirty&&(window.sources=o),2&e.$$.dirty&&(window.errors=r),4&e.$$.dirty&&(window.renderAmount=l),8&e.$$.dirty&&(window.isStatic=s)},[o,r,l,s,c,function(){n(0,o=[...o,{sheetUrl:"",range:"",colour:"white"}]),n(1,r=[...r,{colourUsed:!1,urlFormat:!1,network:!1}])},function(){n(0,o=o.slice(0,-1)),n(1,r=r.slice(0,-1))},function(e,t){t.sheetUrl=e,n(0,o)},function(e,t){t.range=e,n(0,o)},function(e,t){t.colour=e,n(0,o)},function(e){s=e,n(3,s)},function(e){l=e,n(2,l)}]}return new class extends B{constructor(e){super(),P(this,e,pe,de,l,{})}}({target:document.querySelector("#menu")})}();
